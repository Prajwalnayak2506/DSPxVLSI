#! /usr/bin/vvp
:ivl_version "10.1 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "vhdl_sys";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_0x5958ee638a00 .scope module, "quadrant_mapper_tb" "quadrant_mapper_tb" 2 9;
 .timescale -9 -12;
P_0x5958ee628050 .param/l "FIXED_0_DEG_RAD" 1 2 12, C4<0000000000000000>;
P_0x5958ee628090 .param/l "FIXED_270_DEG_RAD" 1 2 16, C4<0100101101100110>;
P_0x5958ee6280d0 .param/l "FIXED_360_DEG_RAD" 1 2 17, C4<0110010010001000>;
P_0x5958ee628110 .param/l "FIXED_45_DEG_RAD" 1 2 13, C4<0000110010010001>;
P_0x5958ee628150 .param/l "FIXED_90_DEG_RAD" 1 2 14, C4<0001100100100010>;
P_0x5958ee628190 .param/l "NEG_45_DEG_FP" 1 2 20, C4<1111001101111111>;
P_0x5958ee6281d0 .param/l "NEG_90_DEG_FP" 1 2 21, C4<1110011011011110>;
P_0x5958ee628210 .param/l "PI_CONST" 1 2 15, C4<0011001001000100>;
L_0x718fab1e0018 .functor BUFT 1, C4<0001101001011010>, C4<0>, C4<0>, C4<0>;
v0x5958ee65a290_0 .net "X_init", 15 0, L_0x718fab1e0018;  1 drivers
L_0x718fab1e0060 .functor BUFT 1, C4<0000000000000000>, C4<0>, C4<0>, C4<0>;
v0x5958ee65a370_0 .net "Y_init", 15 0, L_0x718fab1e0060;  1 drivers
v0x5958ee65a410_0 .net "Z_init", 15 0, L_0x5958ee620cb0;  1 drivers
v0x5958ee65a4e0_0 .var "angle_in", 15 0;
v0x5958ee65a5b0_0 .net "flip_X_out", 0 0, v0x5958ee659c20_0;  1 drivers
v0x5958ee65a6a0_0 .net "flip_Y_out", 0 0, v0x5958ee659ce0_0;  1 drivers
S_0x5958ee639700 .scope module, "DUT" "quadrant_mapper" 2 32, 3 6 0, S_0x5958ee638a00;
 .timescale 0 0;
    .port_info 0 /INPUT 16 "angle_in"
    .port_info 1 /OUTPUT 16 "Z_init"
    .port_info 2 /OUTPUT 16 "X_init"
    .port_info 3 /OUTPUT 16 "Y_init"
    .port_info 4 /OUTPUT 1 "flip_X_out"
    .port_info 5 /OUTPUT 1 "flip_Y_out"
P_0x5958ee639880 .param/l "K_INV" 0 3 26, C4<0001101001011010>;
P_0x5958ee6398c0 .param/l "PI_3_HALF" 0 3 22, C4<0100101101100110>;
P_0x5958ee639900 .param/l "PI_CONST" 0 3 21, C4<0011001001000100>;
P_0x5958ee639940 .param/l "PI_HALF" 0 3 20, C4<0001100100100010>;
P_0x5958ee639980 .param/l "PI_X2" 0 3 23, C4<0110010010001000>;
L_0x5958ee620cb0 .functor BUFZ 16, v0x5958ee659a60_0, C4<0000000000000000>, C4<0000000000000000>, C4<0000000000000000>;
v0x5958ee639c00_0 .net "X_init", 15 0, L_0x718fab1e0018;  alias, 1 drivers
v0x5958ee6598c0_0 .net "Y_init", 15 0, L_0x718fab1e0060;  alias, 1 drivers
v0x5958ee6599a0_0 .net "Z_init", 15 0, L_0x5958ee620cb0;  alias, 1 drivers
v0x5958ee659a60_0 .var "Z_init_reg", 15 0;
v0x5958ee659b40_0 .net "angle_in", 15 0, v0x5958ee65a4e0_0;  1 drivers
v0x5958ee659c20_0 .var "flip_X_out", 0 0;
v0x5958ee659ce0_0 .var "flip_Y_out", 0 0;
E_0x5958ee61c1f0 .event edge, v0x5958ee659b40_0;
S_0x5958ee659e60 .scope task, "check_result" "check_result" 2 42, 2 42 0, S_0x5958ee638a00;
 .timescale -9 -12;
v0x5958ee65a050_0 .var "expected_Z", 15 0;
v0x5958ee65a130_0 .var "flip_X_exp", 0 0;
v0x5958ee65a1f0_0 .var "flip_Y_exp", 0 0;
TD_quadrant_mapper_tb.check_result ;
    %vpi_call 2 47 "$display", "Z_init: %d (0x%H) | FlipX: %b | FlipY: %b", v0x5958ee65a410_0, v0x5958ee65a410_0, v0x5958ee65a5b0_0, v0x5958ee65a6a0_0 {0 0 0};
    %vpi_call 2 48 "$display", "Expected Z: %d (0x%H) | Expected Flips: %b%b", v0x5958ee65a050_0, v0x5958ee65a050_0, v0x5958ee65a130_0, v0x5958ee65a1f0_0 {0 0 0};
    %load/vec4 v0x5958ee65a410_0;
    %load/vec4 v0x5958ee65a050_0;
    %cmp/ne;
    %flag_mov 8, 6;
    %load/vec4 v0x5958ee65a5b0_0;
    %load/vec4 v0x5958ee65a130_0;
    %cmp/ne;
    %flag_or 6, 8;
    %flag_mov 8, 6;
    %load/vec4 v0x5958ee65a6a0_0;
    %load/vec4 v0x5958ee65a1f0_0;
    %cmp/ne;
    %flag_or 6, 8;
    %jmp/0xz  T_0.0, 6;
    %vpi_call 2 50 "$display", "!!! TEST FAILED !!!" {0 0 0};
    %jmp T_0.1;
T_0.0 ;
    %vpi_call 2 52 "$display", "--- TEST PASSED ---" {0 0 0};
T_0.1 ;
    %end;
    .scope S_0x5958ee639700;
T_1 ;
    %wait E_0x5958ee61c1f0;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x5958ee659a60_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee659c20_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee659ce0_0, 0, 1;
    %load/vec4 v0x5958ee659b40_0;
    %cmpi/u 6434, 0, 16;
    %jmp/0xz  T_1.0, 5;
    %load/vec4 v0x5958ee659b40_0;
    %store/vec4 v0x5958ee659a60_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee659c20_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee659ce0_0, 0, 1;
    %jmp T_1.1;
T_1.0 ;
    %load/vec4 v0x5958ee659b40_0;
    %cmpi/u 12868, 0, 16;
    %jmp/0xz  T_1.2, 5;
    %pushi/vec4 12868, 0, 16;
    %load/vec4 v0x5958ee659b40_0;
    %sub;
    %store/vec4 v0x5958ee659a60_0, 0, 16;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee659c20_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee659ce0_0, 0, 1;
    %jmp T_1.3;
T_1.2 ;
    %load/vec4 v0x5958ee659b40_0;
    %cmpi/u 19302, 0, 16;
    %jmp/0xz  T_1.4, 5;
    %load/vec4 v0x5958ee659b40_0;
    %subi 12868, 0, 16;
    %store/vec4 v0x5958ee659a60_0, 0, 16;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee659c20_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee659ce0_0, 0, 1;
    %jmp T_1.5;
T_1.4 ;
    %load/vec4 v0x5958ee659b40_0;
    %subi 25736, 0, 16;
    %store/vec4 v0x5958ee659a60_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee659c20_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee659ce0_0, 0, 1;
T_1.5 ;
T_1.3 ;
T_1.1 ;
    %jmp T_1;
    .thread T_1, $push;
    .scope S_0x5958ee638a00;
T_2 ;
    %vpi_call 2 59 "$display", "--- Starting Quadrant Mapper Test (Q4.12) ---" {0 0 0};
    %vpi_call 2 60 "$display", "Expected 1/K: %d (0x%H) | Expected Y_init: 0", v0x5958ee65a290_0, v0x5958ee65a290_0 {0 0 0};
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 64 "$display", "\012--- Test 1 (Q1: 0 deg) ---" {0 0 0};
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 3217, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 69 "$display", "\012--- Test 2 (Q1: 45 deg) ---" {0 0 0};
    %pushi/vec4 3217, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 6433, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 74 "$display", "\012--- Test 3 (Q1: ~90 deg) ---" {0 0 0};
    %pushi/vec4 6433, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 6434, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 79 "$display", "\012--- Test 4 (Q2: 90 deg) ---" {0 0 0};
    %pushi/vec4 6434, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 9651, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 85 "$display", "\012--- Test 5 (Q2: 135 deg) ---" {0 0 0};
    %pushi/vec4 3217, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 12867, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 91 "$display", "\012--- Test 6 (Q2: ~180 deg) ---" {0 0 0};
    %pushi/vec4 1, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 12868, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 97 "$display", "\012--- Test 7 (Q3: 180 deg) ---" {0 0 0};
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 16085, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 103 "$display", "\012--- Test 8 (Q3: 225 deg) ---" {0 0 0};
    %pushi/vec4 3217, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 19302, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 109 "$display", "\012--- Test 9 (Q4: 270 deg) ---" {0 0 0};
    %pushi/vec4 59102, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %pushi/vec4 22519, 0, 16;
    %store/vec4 v0x5958ee65a4e0_0, 0, 16;
    %delay 10000, 0;
    %vpi_call 2 115 "$display", "\012--- Test 10 (Q4: 315 deg) ---" {0 0 0};
    %pushi/vec4 62335, 0, 16;
    %store/vec4 v0x5958ee65a050_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5958ee65a130_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5958ee65a1f0_0, 0, 1;
    %fork TD_quadrant_mapper_tb.check_result, S_0x5958ee659e60;
    %join;
    %vpi_call 2 119 "$display", "\012--- All Quadrant Mapper Tests finished. ---" {0 0 0};
    %vpi_call 2 120 "$finish" {0 0 0};
    %end;
    .thread T_2;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "quadrant_mapper_tb.v";
    "quadrant_mapper.v";
