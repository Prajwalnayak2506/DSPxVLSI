#! /usr/bin/vvp
:ivl_version "10.1 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "vhdl_sys";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_0x63621f89af10 .scope module, "rom_tb" "rom_tb" 2 3;
 .timescale -9 -12;
P_0x63621f84be40 .param/l "W0_I" 1 2 13, +C4<00000000000000000000000000000000>;
P_0x63621f84be80 .param/l "W0_R" 1 2 12, +C4<00000000000000000100000000000000>;
P_0x63621f84bec0 .param/l "W1_I" 1 2 17, +C4<11111111111111111110011110000001>;
P_0x63621f84bf00 .param/l "W1_R" 1 2 16, +C4<00000000000000000011101100011100>;
P_0x63621f84bf40 .param/l "W4_I" 1 2 15, +C4<11111111111111111100000000000000>;
P_0x63621f84bf80 .param/l "W4_R" 1 2 14, +C4<00000000000000000000000000000000>;
P_0x63621f84bfc0 .param/l "W7_I" 1 2 19, +C4<11111111111111111110011110000001>;
P_0x63621f84c000 .param/l "W7_R" 1 2 18, +C4<11111111111111111100010011000100>;
v0x63621f8bbde0_0 .var "k_tb", 2 0;
v0x63621f8bbea0_0 .net/s "twiddle_img_tb", 15 0, L_0x63621f883c70;  1 drivers
v0x63621f8bbf70_0 .net/s "twiddle_real_tb", 15 0, L_0x63621f883d90;  1 drivers
S_0x63621f89b240 .scope module, "DUT" "twiddle_rom" 2 24, 3 1 0, S_0x63621f89af10;
 .timescale -9 -12;
    .port_info 0 /INPUT 3 "k"
    .port_info 1 /OUTPUT 16 "twiddle_real"
    .port_info 2 /OUTPUT 16 "twiddle_img"
L_0x63621f883d90 .functor BUFZ 16, L_0x63621f8bc070, C4<0000000000000000>, C4<0000000000000000>, C4<0000000000000000>;
L_0x63621f883c70 .functor BUFZ 16, L_0x63621f8bc350, C4<0000000000000000>, C4<0000000000000000>, C4<0000000000000000>;
v0x63621f89b460 .array/s "ROM_I", 7 0, 15 0;
v0x63621f89b500 .array/s "ROM_R", 7 0, 15 0;
v0x63621f89b5a0_0 .net *"_s0", 15 0, L_0x63621f8bc070;  1 drivers
v0x63621f8bb610_0 .net *"_s10", 4 0, L_0x63621f8bc3f0;  1 drivers
L_0x77e8a43e0060 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x63621f8bb6f0_0 .net *"_s13", 1 0, L_0x77e8a43e0060;  1 drivers
v0x63621f8bb820_0 .net *"_s2", 4 0, L_0x63621f8bc170;  1 drivers
L_0x77e8a43e0018 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x63621f8bb900_0 .net *"_s5", 1 0, L_0x77e8a43e0018;  1 drivers
v0x63621f8bb9e0_0 .net *"_s8", 15 0, L_0x63621f8bc350;  1 drivers
v0x63621f8bbac0_0 .net "k", 2 0, v0x63621f8bbde0_0;  1 drivers
v0x63621f8bbba0_0 .net/s "twiddle_img", 15 0, L_0x63621f883c70;  alias, 1 drivers
v0x63621f8bbc80_0 .net/s "twiddle_real", 15 0, L_0x63621f883d90;  alias, 1 drivers
L_0x63621f8bc070 .array/port v0x63621f89b500, L_0x63621f8bc170;
L_0x63621f8bc170 .concat [ 3 2 0 0], v0x63621f8bbde0_0, L_0x77e8a43e0018;
L_0x63621f8bc350 .array/port v0x63621f89b460, L_0x63621f8bc3f0;
L_0x63621f8bc3f0 .concat [ 3 2 0 0], v0x63621f8bbde0_0, L_0x77e8a43e0060;
    .scope S_0x63621f89b240;
T_0 ;
    %pushi/vec4 16384, 0, 16;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 15132, 0, 16;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 11585, 0, 16;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 6271, 0, 16;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 59265, 0, 16;
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 53887, 0, 16;
    %ix/load 4, 6, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 50372, 0, 16;
    %ix/load 4, 7, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b500, 4, 0;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %pushi/vec4 59265, 0, 16;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %pushi/vec4 53887, 0, 16;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %pushi/vec4 50372, 0, 16;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %pushi/vec4 49152, 0, 16;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %pushi/vec4 50372, 0, 16;
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %pushi/vec4 53887, 0, 16;
    %ix/load 4, 6, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %pushi/vec4 59265, 0, 16;
    %ix/load 4, 7, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x63621f89b460, 4, 0;
    %end;
    .thread T_0;
    .scope S_0x63621f89af10;
T_1 ;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x63621f8bbde0_0, 0, 3;
    %vpi_call 2 34 "$display", "--- Starting Twiddle ROM Testbench (Q1.14) ---" {0 0 0};
    %delay 10000, 0;
    %vpi_call 2 40 "$display", "\012--- TEST 1: k=0 (W^0) ---" {0 0 0};
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x63621f8bbde0_0, 0, 3;
    %delay 10000, 0;
    %vpi_call 2 43 "$display", "Actual: R=%d, I=%d. Expected: R=%d, I=%d", v0x63621f8bbf70_0, v0x63621f8bbea0_0, P_0x63621f84be80, P_0x63621f84be40 {0 0 0};
    %load/vec4 v0x63621f8bbf70_0;
    %pad/s 32;
    %pushi/vec4 16384, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %load/vec4 v0x63621f8bbea0_0;
    %pad/s 32;
    %pushi/vec4 0, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.0, 8;
    %vpi_call 2 46 "$display", "PASS: W^0 (1 + j0) correct." {0 0 0};
    %jmp T_1.1;
T_1.0 ;
    %vpi_call 2 48 "$display", "FAIL: W^0 incorrect." {0 0 0};
T_1.1 ;
    %vpi_call 2 53 "$display", "\012--- TEST 2: k=4 (W^4) ---" {0 0 0};
    %pushi/vec4 4, 0, 3;
    %store/vec4 v0x63621f8bbde0_0, 0, 3;
    %delay 10000, 0;
    %vpi_call 2 56 "$display", "Actual: R=%d, I=%d. Expected: R=%d, I=%d", v0x63621f8bbf70_0, v0x63621f8bbea0_0, P_0x63621f84bf80, P_0x63621f84bf40 {0 0 0};
    %load/vec4 v0x63621f8bbf70_0;
    %pad/s 32;
    %pushi/vec4 0, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %load/vec4 v0x63621f8bbea0_0;
    %pad/s 32;
    %pushi/vec4 4294950912, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.2, 8;
    %vpi_call 2 59 "$display", "PASS: W^4 (0 - j1.0) correct." {0 0 0};
    %jmp T_1.3;
T_1.2 ;
    %vpi_call 2 61 "$display", "FAIL: W^4 incorrect." {0 0 0};
T_1.3 ;
    %vpi_call 2 66 "$display", "\012--- TEST 3: k=1 (W^1) ---" {0 0 0};
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x63621f8bbde0_0, 0, 3;
    %delay 10000, 0;
    %vpi_call 2 69 "$display", "Actual: R=%d, I=%d. Expected: R=%d, I=%d", v0x63621f8bbf70_0, v0x63621f8bbea0_0, P_0x63621f84bf00, P_0x63621f84bec0 {0 0 0};
    %load/vec4 v0x63621f8bbf70_0;
    %pad/s 32;
    %pushi/vec4 15132, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %load/vec4 v0x63621f8bbea0_0;
    %pad/s 32;
    %pushi/vec4 4294961025, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.4, 8;
    %vpi_call 2 72 "$display", "PASS: W^1 correct." {0 0 0};
    %jmp T_1.5;
T_1.4 ;
    %vpi_call 2 74 "$display", "FAIL: W^1 incorrect." {0 0 0};
T_1.5 ;
    %vpi_call 2 79 "$display", "\012--- TEST 4: k=7 (W^7) ---" {0 0 0};
    %pushi/vec4 7, 0, 3;
    %store/vec4 v0x63621f8bbde0_0, 0, 3;
    %delay 10000, 0;
    %vpi_call 2 82 "$display", "Actual: R=%d, I=%d. Expected: R=%d, I=%d", v0x63621f8bbf70_0, v0x63621f8bbea0_0, P_0x63621f84c000, P_0x63621f84bfc0 {0 0 0};
    %load/vec4 v0x63621f8bbf70_0;
    %pad/s 32;
    %pushi/vec4 4294952132, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %load/vec4 v0x63621f8bbea0_0;
    %pad/s 32;
    %pushi/vec4 4294961025, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.6, 8;
    %vpi_call 2 85 "$display", "PASS: W^7 correct." {0 0 0};
    %jmp T_1.7;
T_1.6 ;
    %vpi_call 2 87 "$display", "FAIL: W^7 incorrect." {0 0 0};
T_1.7 ;
    %vpi_call 2 89 "$finish" {0 0 0};
    %end;
    .thread T_1;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "rom_tb.v";
    "twiddleFactorROM.v";
